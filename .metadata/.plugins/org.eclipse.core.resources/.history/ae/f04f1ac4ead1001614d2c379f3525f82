package kb.pl.client;

import javax.swing.JFrame;

import org.springframework.beans.factory.annotation.Autowired;

public class Window extends JFrame {
	@Autowired
	public MainWindow(/*LoginPanel loginPanel, AppPanel appPanel*/) {
//	    this.loginPanel = loginPanel;
//	    this.appPanel = appPanel;
	    initialize();
	}
	
	private void initialize() {
        setSize(800, 800);
        setLocation(600, 150);
        
        this.setLayout(new GridLayout(1, 1));
        cardLayout = new CardLayout();
        mainPanel = new JPanel(cardLayout);
        add(mainPanel);

        mainPanel.add(loginPanel, LOGIN_PANEL);
        mainPanel.add(appPanel, APP_PANEL);
        cardLayout.show(mainPanel, LOGIN_PANEL);

        setDefaultCloseOperation(DO_NOTHING_ON_CLOSE);
        WindowListener exitListener = new WindowAdapter() {

            @Override
            public void windowClosing(WindowEvent e) {
                appPanel.logout();
                System.exit(0);
            }
        };
        addWindowListener(exitListener);
    }
}
